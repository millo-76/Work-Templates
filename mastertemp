! --------------------------------------------------------
! Hostname and Basic Security
! --------------------------------------------------------
hostname LAB-SWITCH-01              ! Sets device name
no ip domain-lookup                 ! Disables DNS lookup for mistyped commands
enable secret STRONG_ENABLE_PASS    ! Encrypted enable password
service password-encryption         ! Encrypts plaintext passwords

! --------------------------------------------------------
! Time and Logging
! --------------------------------------------------------
clock timezone MST -7              ! Sets timezone
clock summer-time MDT recurring    ! Enables daylight savings
ntp server 192.168.1.10            ! Syncs with NTP server
service timestamps log datetime msec localtime show-timezone
service timestamps debug datetime msec localtime show-timezone

! Logging (local and remote)
logging buffered 64000 warnings
logging trap warnings
logging host 192.168.1.5            ! Remote syslog server

! --------------------------------------------------------
! AAA and Authentication
! --------------------------------------------------------
aaa new-model                      ! Enables AAA
aaa authentication login default local
username admin privilege 15 secret STRONG_ADMIN_PASS

! --------------------------------------------------------
! SSH Access
! --------------------------------------------------------
ip domain-name lab.local
crypto key generate rsa modulus 2048    ! Generates SSH key
ip ssh version 2                        ! Enforces SSHv2
line vty 0 4
 login local
 transport input ssh
 exec-timeout 10 0                     ! Auto-logout after 10 minutes idle
 logging synchronous

! --------------------------------------------------------
! Interface Configuration Example
! --------------------------------------------------------
interface GigabitEthernet1/0/1
 description Uplink to CORE-SWITCH
 switchport mode trunk
 spanning-tree portfast trunk
!

interface GigabitEthernet1/0/2
 description Connected to Desktop01
 switchport mode access
 switchport access vlan 10
 spanning-tree portfast
!

! --------------------------------------------------------
! VLANs and SVI (for L3 Switches)
! --------------------------------------------------------
vlan 10
 name USERS
vlan 20
 name SERVERS
!

interface Vlan10
 ip address 192.168.10.1 255.255.255.0
 no shutdown
!
interface Vlan20
 ip address 192.168.20.1 255.255.255.0
 no shutdown
!

ip routing                       ! Enables routing between VLANs

! --------------------------------------------------------
! DHCP Snooping, Port Security (Optional)
! --------------------------------------------------------
ip dhcp snooping
ip dhcp snooping vlan 10,20
interface GigabitEthernet1/0/2
 switchport port-security
 switchport port-security maximum 2
 switchport port-security violation restrict
 switchport port-security mac-address sticky

! --------------------------------------------------------
! Spanning Tree Hardening
! --------------------------------------------------------
spanning-tree mode rapid-pvst
spanning-tree portfast default
spanning-tree bpduguard enable

! --------------------------------------------------------
! Save and Verify
! --------------------------------------------------------
do show running-config
do write memory
